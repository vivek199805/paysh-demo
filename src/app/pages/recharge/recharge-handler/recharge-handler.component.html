<div class="layout-spacing">
    <div class="row layout-top-spacing">

        <div class="col-12 mb-3">
            <div _ngcontent-ffl-c117="" class="page-title d-flex align-items-center"><svg _ngcontent-mlm-c303=""
                    width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g _ngcontent-mlm-c303="" clip-path="url(#clip0_24_763)">
                        <path _ngcontent-mlm-c303=""
                            d="M11 20.7109C11.1912 20.7109 11.3781 20.6542 11.5371 20.548C11.6961 20.4418 11.82 20.2908 11.8932 20.1141C11.9664 19.9375 11.9855 19.7431 11.9482 19.5555C11.9109 19.368 11.8188 19.1957 11.6836 19.0605C11.5484 18.9253 11.3762 18.8332 11.1886 18.7959C11.0011 18.7586 10.8067 18.7778 10.63 18.8509C10.4534 18.9241 10.3024 19.048 10.1961 19.207C10.0899 19.366 10.0332 19.5529 10.0332 19.7441C10.0335 20.0005 10.1354 20.2462 10.3167 20.4274C10.4979 20.6087 10.7437 20.7106 11 20.7109ZM11 19.4219C11.0637 19.4219 11.126 19.4408 11.179 19.4762C11.232 19.5116 11.2733 19.5619 11.2977 19.6208C11.3221 19.6797 11.3285 19.7445 11.3161 19.807C11.3036 19.8695 11.2729 19.9269 11.2279 19.972C11.1828 20.0171 11.1254 20.0478 11.0629 20.0602C11.0004 20.0726 10.9356 20.0663 10.8767 20.0419C10.8178 20.0175 10.7675 19.9762 10.732 19.9232C10.6966 19.8702 10.6777 19.8079 10.6777 19.7441C10.6778 19.6587 10.7118 19.5768 10.7722 19.5164C10.8326 19.456 10.9146 19.422 11 19.4219ZM16.0059 0H5.99414C5.56694 0.000480731 5.15737 0.1704 4.85529 0.472478C4.55321 0.774557 4.38329 1.18412 4.38281 1.61133V20.3887C4.38329 20.8159 4.55321 21.2254 4.85529 21.5275C5.15737 21.8296 5.56694 21.9995 5.99414 22H16.0059C16.4331 21.9995 16.8426 21.8296 17.1447 21.5275C17.4468 21.2254 17.6167 20.8159 17.6172 20.3887V1.61133C17.6167 1.18412 17.4468 0.774557 17.1447 0.472478C16.8426 0.1704 16.4331 0.000480731 16.0059 0V0ZM16.9727 20.3887C16.9724 20.645 16.8704 20.8907 16.6892 21.072C16.5079 21.2532 16.2622 21.3552 16.0059 21.3555H5.99414C5.73782 21.3552 5.49208 21.2532 5.31083 21.072C5.12958 20.8907 5.02763 20.645 5.02734 20.3887V18.1328H16.9727V20.3887ZM16.9727 17.4883H5.02734V3.22266H16.9727V17.4883ZM16.9727 2.57812H5.02734V1.61133C5.02763 1.35501 5.12958 1.10926 5.31083 0.928016C5.49208 0.746769 5.73782 0.644818 5.99414 0.644531H16.0059C16.2622 0.644822 16.5079 0.746774 16.6892 0.92802C16.8704 1.10927 16.9724 1.35501 16.9727 1.61133V2.57812ZM11.8528 1.28906H10.1472C10.0617 1.28906 9.97973 1.32302 9.91929 1.38345C9.85886 1.44389 9.82491 1.52586 9.82491 1.61133C9.82491 1.6968 9.85886 1.77877 9.91929 1.8392C9.97973 1.89964 10.0617 1.93359 10.1472 1.93359H11.8528C11.9383 1.93359 12.0203 1.89964 12.0807 1.8392C12.1411 1.77877 12.1751 1.6968 12.1751 1.61133C12.1751 1.52586 12.1411 1.44389 12.0807 1.38345C12.0203 1.32302 11.9383 1.28906 11.8528 1.28906ZM8.33843 10.1683L8.33846 10.1683L9.89857 11.5293L8.50962 14.7865C8.45642 14.9068 8.4464 15.0418 8.48127 15.1686C8.51614 15.2954 8.59375 15.4063 8.70096 15.4824C8.80611 15.5614 8.93531 15.6017 9.06672 15.5964C9.19813 15.5911 9.32366 15.5405 9.42209 15.4533L13.6605 11.7974C13.7206 11.7455 13.7695 11.6818 13.804 11.6102C13.8385 11.5387 13.858 11.4608 13.8612 11.3814C13.8643 11.302 13.8512 11.2228 13.8225 11.1487C13.7938 11.0746 13.7501 11.0072 13.6943 10.9507L11.9531 9.18688L13.2032 6.04076C13.2524 5.91695 13.2575 5.77997 13.2176 5.65285C13.1777 5.52574 13.0953 5.41623 12.9842 5.34273C12.873 5.26923 12.74 5.23623 12.6074 5.24926C12.4748 5.2623 12.3508 5.32058 12.2561 5.41432L8.31168 9.31889C8.25501 9.375 8.21052 9.44218 8.18098 9.51626C8.15144 9.59033 8.13749 9.6697 8.14 9.7494C8.14251 9.82911 8.16143 9.90744 8.19557 9.97951C8.22971 10.0516 8.27834 10.1158 8.33843 10.1683V10.1683ZM12.4904 6.08925L11.3385 8.98806C11.297 9.09277 11.2868 9.20731 11.3092 9.31771C11.3317 9.4281 11.3857 9.52958 11.4649 9.60975L13.1873 11.3544L9.21147 14.7838L10.5098 11.739C10.5581 11.6264 10.5693 11.5013 10.542 11.3819C10.5146 11.2624 10.45 11.1547 10.3575 11.0743L8.81441 9.72816L12.4904 6.08925Z"
                            fill="#0C78D8"></path>
                    </g>
                    <defs _ngcontent-mlm-c303="">
                        <clipPath _ngcontent-mlm-c303="" id="clip0_24_763">
                            <rect _ngcontent-mlm-c303="" width="22" height="22" fill="white"></rect>
                        </clipPath>
                    </defs>
                </svg>
                <h6 _ngcontent-ffl-c117="" class="ml-1 mb-0">Recharge</h6>
            </div>
        </div>
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 layout-spacing">
            <nav _ngcontent-bhd-c107="" class="nav flex-column flex-sm-row bg-white w-100 mb-3">

                <ul class="nav nav-tabs" id="border-tabs" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="prepaid-tab" data-toggle="tab" href="#prepaid" role="tab"
                            aria-controls="prepaid" aria-selected="true"><svg xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                class="feather feather-phone-call">
                                <path
                                    d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z">
                                </path>
                            </svg> Prepaid</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="dth-tab" data-toggle="tab" (click)="getDthOperator()" href="#dth"
                            role="tab" aria-controls="dth" aria-selected="false"><svg xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                class="feather feather-radio">
                                <circle cx="12" cy="12" r="2"></circle>
                                <path
                                    d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14">
                                </path>
                            </svg> DTH</a>
                    </li>
                </ul>
            </nav>
            <div class="widget widget-width pt-5">
                <div class="tab-content mb-4">
                    <div class="tab-pane fade show active" id="prepaid" role="tabpanel" aria-labelledby="prepaid-tab">
                        <form [formGroup]="prepaid" (ngSubmit)="onPrepaidSubmit()" class="custom-form">
                            <div class="form-group input-field flex-wrap">
                                <h4 class="mb-4">{{rechargeTitle}}</h4>
                                <div class="row my-4">
                                    <div class="col-12 col-lg-4 col-sm-12 col-md-6">
                                        <div class="form-group">
                                            <div class="input-group mb-2 mr-sm-2"> 
                                                <i class="fa fa-mobile" aria-hidden="true"></i>
                                                <input type="text" formControlName="mobile"
                                                    [ngClass]="{ 'is-invalid': (p.mobile.touched || p.mobile.dirty) && p.mobile.invalid }"
                                                    name="mobileno" (keyup)="getHLRInfo($event)" class="form-control">
                                                <label for="inputAddress">Mobile Number</label>
                                                <div *ngIf="(p.mobile.touched || p.mobile.dirty) && p.mobile.invalid"
                                                    class="alert-error">
                                                    <div *ngIf="p.mobile.errors.required"><small><b>Mobile no is
                                                                required.</b></small></div>
                                                    <div *ngIf="p.mobile.errors.pattern"><small><b>Please enter a valid
                                                                mobile no.</b></small></div>
                                                </div>
                                                <div class="text-right" *ngIf="HLRinfo.circle">
                                                    <p class="cir">Prepaid - {{HLRinfo.circle}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-lg-4 col-sm-12 col-md-6">
                                        <div class="form-group">
                                            <div class="input-group mb-2 mr-sm-2">
                                                <i class="fa fa-mobile" aria-hidden="true"></i> 
                                                <ng-select2 formControlName="operator" [(ngModel)]="value" class="w-100"
                                                    [data]="prepaidOperatorLisitng"
                                                    [ngClass]="{ 'is-invalid': p.operator.touched && p.operator.invalid }" placeholder="Select Operator">
                                                </ng-select2>
                                                <div *ngIf="p.operator.touched && p.operator.invalid"
                                                    class="alert-error">
                                                    <div *ngIf="p.operator.errors.required"><small><b>Operator is
                                                                required.</b></small></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-lg-4 col-sm-12 col-md-6">
                                        <div class="form-group">
                                            <div class="input-group mb-2 mr-sm-2">
                                                <i class="fa fa-inr" aria-hidden="true"></i>

                                                <input type="text" formControlName="amount"
                                                    [ngClass]="{ 'is-invalid': p.amount.touched && p.amount.invalid }"
                                                    name="amount" class="form-control">
                                                <label for="inputAddress">Amount</label>
                                                <div *ngIf="p.amount.touched && p.amount.invalid" class="alert-error">
                                                    <div *ngIf="p.amount.errors.required"><small><b>Amount is
                                                                required.</b></small></div>
                                                    <div *ngIf="p.amount.errors.pattern"><small><b>Please enter a valid
                                                                amount.</b></small></div>
                                                </div>
                                                <div class="text-right" *ngIf="browseplans"><a
                                                        href="javascript:void(0);" (click)="browseplan()"
                                                        class="browse">Browse Plan</a></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-lg-12 col-sm-12 col-md-12 text-center">
                                        <button type="submit" [disabled]="!prepaid.valid" *ngIf="!onPrepaidInvoiceObj"
                                            class="btn btn-primary">Submit</button>
                                    </div>

                                </div>
                            </div>

                        </form>
                    </div>
                    <div class="tab-pane fade" id="dth" role="tabpanel" aria-labelledby="dth-tab">
                        <form [formGroup]="dth" (submit)="onDthSubmit()" class="custom-form">
                            <div class="form-group input-field flex-wrap">
                            <!-- <h4 class="mb-4">Recharge Your DTH </h4> -->
                            <div class="row my-2">
                                <div class="col-12 col-lg-4 col-sm-12 col-md-6">
                                    <div class="form-group">
                                        <div class="input-group mb-2 mr-sm-2">
                                            <i class="fa fa-mobile" aria-hidden="true"></i>

                                            <ng-select2
                                                [ngClass]="{ 'is-invalid': d.operator.touched && d.operator.invalid }"
                                                formControlName="operator" class="w-100" [data]="dthOperatorLisitng" placeholder="Operator"
                                               >
                                            </ng-select2>
                                            <div *ngIf="d.operator.touched && d.operator.invalid" class="alert-error">
                                                <div *ngIf="d.operator.errors.required"><small><b>Operator is
                                                            required.</b></small></div>
                                            </div>
                                        </div>
                                    </div>
                                </div> 
                                <div class="col-12 col-lg-4 col-sm-12 col-md-6">
                                    <div class="form-group">
                                        <div class="input-group mb-2 mr-sm-2">
                                            <i class="fa fa-id-card-o" aria-hidden="true"></i>
                                            <input type="text" formControlName="canumber"
                                                [ngClass]="{ 'is-invalid': d.canumber.touched && d.canumber.invalid }"
                                                name="canumber" (keyup)="getHLRIDTHnfo($event)"  class="form-control">
                                                <label for="inputAddress">C/A Number</label>
                                            <div *ngIf="d.canumber.touched && d.canumber.invalid" class="alert-error">
                                                <div *ngIf="d.canumber.errors.required"><small><b>C/A Number is
                                                            required.</b></small></div>
                                                <div *ngIf="d.canumber.errors.pattern"><small><b>Please enter a valid
                                                            C/A Number.</b></small></div>
                                            </div>
                                        </div>
                                    </div>
                                </div> 
                                <div class="col-12 col-lg-4 col-sm-12 col-md-6">
                                    <div class="form-group">
                                        <div class="input-group mb-2 mr-sm-2">
                                            <i class="fa fa-inr" aria-hidden="true"></i>
                                            <input type="text" formControlName="amount"
                                                [ngClass]="{ 'is-invalid': d.amount.touched && d.amount.invalid }"
                                                name="amount" class="form-control" >
                                                <label for="inputAddress">Amount</label>
                                            <div *ngIf="d.amount.touched && d.amount.invalid" class="alert-error">
                                                <div *ngIf="d.amount.errors.required"><small><b>Amount is
                                                            required.</b></small></div>
                                                <div *ngIf="d.amount.errors.pattern"><small><b>Please enter a valid
                                                            amount.</b></small></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-lg-12 col-sm-12 col-md-12 text-center">
                                <button type="submit" [disabled]="!dth.valid" *ngIf="!onDthInvoiceObj"
                                    class="btn btn-primary">Submit</button>
                                </div>

                            </div>
                            </div>
                 
                    </form>
                </div>
                <div class="tab-pane fade" id="status" role="tabpanel" aria-labelledby="status-tab">
                    <form [formGroup]="status" (submit)="checkStatus()" class="custom-form">
                        <div class="form-group input-field flex-wrap">
                        <!-- <h4 class="mb-4">Recharge Your DTH </h4> -->
                        <div class="row my-2">
                            <div class="col-12 col-lg-4 col-sm-12 col-md-6">
                                <div class="form-group">
                                    <div class="input-group mb-2 mr-sm-2">
                                        <i class="fa fa-id-badge" aria-hidden="true"></i>
                                    <input type="text" formControlName="ref"
                                        [ngClass]="{ 'is-invalid': s.ref.touched && s.ref.invalid }" name="ref"
                                        class="form-control">
                                        <label for="inputAddress">Reference ID</label>
                                    <div *ngIf="s.ref.touched && s.ref.invalid" class="alert-error">
                                        <div *ngIf="s.ref.errors.required"><small><b>Reference ID is
                                                    required.</b></small></div>
                                        <div *ngIf="s.ref.errors.pattern"><small><b>Please enter a valid Reference
                                                    ID.</b></small></div>
                                    </div>
                                </div>
                                </div>
                                <div class="col-12 col-lg-4 col-sm-12 col-md-12">
                                <button type="submit" [disabled]="!status.valid" class="btn btn-primary">Submit</button>
                                </div>

                                <div class="table-responsive" *ngIf="statusData != null">
                                    <table class="table table-bordered mt-4">
                                        <tr>
                                            <th>TXN ID</th>
                                            <td>{{statusData.txnid}}</td>
                                        </tr>
                                        <tr>
                                            <th>Operator ID</th>
                                            <td>{{statusData.operatorid}}</td>
                                        </tr>
                                        <tr>
                                            <th>Operator Name</th>
                                            <td>{{statusData.operatorname}}</td>
                                        </tr>
                                        <tr>
                                            <th>C/A Number</th>
                                            <td>{{statusData.canumber}}</td>
                                        </tr>
                                        <tr>
                                            <th>Amount</th>
                                            <td>{{statusData.amount | currency:"INR"}}</td>
                                        </tr>
                                        <tr>
                                            <th>Commission</th>
                                            <td>{{statusData.comm | currency:"INR"}}</td>
                                        </tr>
                                        <tr>
                                            <th>TDS</th>
                                            <td>{{statusData.tds | currency:"INR"}}</td>
                                        </tr>
                                        <tr>
                                            <th>Date</th>
                                            <td>{{statusData.dateadded | date:"MMM d, y"}}</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

</div>



<button type="button" #modal data-toggle='modal' data-target='#browseplans' class='btn btn-primary statushide'>Browse
    Plan</button>



<div class="modal fade" id="browseplans" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4>Select Amount Or Search Plan</h4><span class="close" data-dismiss="modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="widget-content widget-content-area simple-tab">
                    <ul class="nav nav-tabs  mb-3 mt-3" id="simpletab" role="tablist">
                        <li class="nav-item" *ngFor="let title of rechargePlan; let num = index">
                            <a class="nav-link" [ngClass]="{'active':num == 1}" id="dt-tab" data-toggle="tab"
                                href="#tab{{num}}" role="tab" aria-controls="dt"
                                aria-selected="true">{{title.heading}}</a>
                        </li>

                    </ul>
                    <div class="tab-content" id="simpletabContent">
                        <div class="tab-pane fade" [ngClass]="{'show active':num == 1}"
                            *ngFor="let title of rechargePlan; let num = index" id="tab{{num}}" role="tabpanel"
                            aria-labelledby="dt-tab">
                            <div class="card component-card_8" *ngFor="let data of title.child"
                                (click)="setAmount(data.rs)">
                                <div class="card-body">
                                    <div class="progress-order">
                                        <div class="progress-order-header">
                                            <div class="row">
                                                <div class="col-md-6 col-sm-6 col-12">
                                                    <h4>Validity: {{data.validity}}</h4>
                                                </div>
                                                <div class="col-md-6 pl-0 col-sm-6 col-12 text-right">
                                                    <span class="badge badge-info">{{data.rs | currency:"INR"}}</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="progress-order-body">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <!-- <p>Data: 75 GB</p> -->
                                                    <p>{{data.desc}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
</div>

<ri-custom-mdl [id]="mdlId">
    <app-slip-print [riCustomMdlId]="mdlId" [recepitListObj]="invoiceObj" (closeCallBack)="slipClose()">
    </app-slip-print>
</ri-custom-mdl>